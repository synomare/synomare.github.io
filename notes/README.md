# Notes 運用メモ

## 新規記事の作り方

1. ターミナルでリポジトリ直下(synomare site)に移動します。
2. 次のコマンドで雛形を生成します。
   ```
   node scripts/new-post.mjs slug title --date=YYYY-MM-DD --summary="テキスト" --tags=タグ1,タグ2
   ```
   - sample `slug` は英小文字・数字・ハイフンのみ。URL `notes/<slug>.html` になります。
   - `--date` を省略すると当日の年月日が入ります。
   - `--summary` は一覧やメタ情報に使われる1〜2文。後から `notes/posts.json` を直接編集してもOKです。
   - `--tags` にはカンマ区切りまたは複数回の `--tag` 指定（`--tag design` / `--tag=design` どちらでも可）でタグを追加できます。タグは一覧の表示や将来のフィルタに利用されます。
3. スクリプトが自動で以下を更新します。
   - `notes/posts.json`: 投稿メタデータ（タグなどを含む、ソート済み）
   - `notes/posts.js`: フロント側で読み込むデータ（年・年月など派生情報付き）
   - `notes/<slug>.html`: 記事ファイル（テンプレートベース）
4. 生成された HTML を開き、本文・概要・メタ情報を整えます。プレースホルダコメントは削除してください。
5. 変更をブラウザで確認し、必要なら校正して公開します。

## 既存記事の編集
- 本文: `notes/<slug>.html`
- 概要やタイトル、日付: `notes/posts.json` を編集してから `node scripts/new-post.mjs` を再実行する必要はありません。（手動で整合が取れるようにしてあります。）

## 参考
- テンプレートは `notes/post-template.html` にまとまっています。スタイルや構造を変えたいときはテンプレートを先に編集し、新規作成時に反映されるようにしてください。
- `notes/posts.js` にはタグ配列のほか `year` や `yearMonth` などの派生プロパティが含まれているので、将来的にアーカイブやフィルタを実装する際はこのデータを参照できます。
